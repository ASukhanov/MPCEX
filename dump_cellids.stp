'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
'Dump cellIDs

ACTION HEADER_STOP = 
' halt the spy and print header
       DO_HEADER;

ACTION RUN = 
' run the spy
	DO_RUN;

ACTION HEADER =
' print header and continue
	DO_NEXTHEADER;		
'	DO_RUN; '&RA: Multiples does not work

ACTION CELLIDS =
' print cell IDs
        DO_CELLIDS;
',,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
DATA PARAMETERS;
BOOLEAN idcode_data[32*10];
BOOLEAN irdata[10*32];
INTEGER ii;
ENDDATA;
',,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
PROCEDURE DO_RUN USES PARAMETERS;
IRSCAN 8, $22, CAPTURE irdata[7..0];
DRSCAN 32, $0000;
PRINT "Run";
ENDPROC;
',,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
PROCEDURE DO_HEADER USES PARAMETERS;
IRSCAN 8, $22, CAPTURE irdata[7..0];
'Need 3 DRSCANs to change the address
DRSCAN 32, $8000;
'DRSCAN 32, $8000;
DRSCAN 32, $A000;
for ii = 1 to 16 step 1;
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "",idcode_data[15..0];
next ii;
ENDPROC;
',,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
PROCEDURE DO_NEXTHEADER USES DO_HEADER, DO_RUN;
CALL DO_HEADER;
CALL DO_RUN;
ENDPROC;
',,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
PROCEDURE DO_CELLIDS USES PARAMETERS, DO_RUN;

IRSCAN 8, $22, CAPTURE irdata[7..0];
DRSCAN 32, $8000;
DRSCAN 32, $A000;
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "Event",idcode_data[15..0];

DRSCAN 32, $800A;
DRSCAN 32, $A000;
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX00.10", idcode_data[15..0];
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX00.32", idcode_data[15..0];

DRSCAN 32, $810C;
DRSCAN 32, $A000;
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX01.10", idcode_data[15..0];
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX01.32", idcode_data[15..0];


DRSCAN 32, $820E;
DRSCAN 32, $A000;
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX02.10", idcode_data[15..0];
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX02.32", idcode_data[15..0];

DRSCAN 32, $8310;
DRSCAN 32, $A000;
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX03.10", idcode_data[15..0];
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX03.32", idcode_data[15..0];

DRSCAN 32, $8412;
DRSCAN 32, $A000;
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX04.10", idcode_data[15..0];
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX04.32", idcode_data[15..0];

DRSCAN 32, $8514;
DRSCAN 32, $A000;
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX05.10", idcode_data[15..0];
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX05.32", idcode_data[15..0];

DRSCAN 32, $8616;
DRSCAN 32, $A000;
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX06.10", idcode_data[15..0];
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX06.32", idcode_data[15..0];

DRSCAN 32, $8718;
DRSCAN 32, $A000;
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX07.10", idcode_data[15..0];
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX07.32", idcode_data[15..0];

DRSCAN 32, $881A;
DRSCAN 32, $A000;
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX08.10", idcode_data[15..0];
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX08.32", idcode_data[15..0];

DRSCAN 32, $891C;
DRSCAN 32, $A000;
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX09.10", idcode_data[15..0];
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX09.32", idcode_data[15..0];

DRSCAN 32, $8A1E;
DRSCAN 32, $A000;
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX10.10", idcode_data[15..0];
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX10.32", idcode_data[15..0];

DRSCAN 32, $8B20;
DRSCAN 32, $A000;
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX11.10", idcode_data[15..0];
DRSCAN 32, $A000, CAPTURE idcode_data[31..0];
EXPORT "SVX11.32", idcode_data[15..0];

CALL DO_RUN;
ENDPROC;
',,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
ACTION	TRANS = DO_TRANS;
PROCEDURE DO_TRANS USES PARAMETERS;
for ii = 1 to 1 step 1;
IRSCAN 8, $22, CAPTURE irdata[7..0];
DRSCAN 32, $E000, CAPTURE idcode_data[31..0];
EXPORT "Shifted Out:", idcode_data[31..0];
DRSCAN 32, $E000, CAPTURE idcode_data[31..0];
EXPORT "Shifted Out:", idcode_data[31..0];
DRSCAN 32, $E000, CAPTURE idcode_data[31..0];
EXPORT "Shifted Out:", idcode_data[31..0];
DRSCAN 32, $E000, CAPTURE idcode_data[31..0];
EXPORT "Shifted Out:", idcode_data[31..0];
DRSCAN 32, $E000, CAPTURE idcode_data[31..0];
EXPORT "Shifted Out:", idcode_data[31..0];
DRSCAN 32, $E000, CAPTURE idcode_data[31..0];
EXPORT "Shifted Out:", idcode_data[31..0];
DRSCAN 32, $E000, CAPTURE idcode_data[31..0];
EXPORT "Shifted Out:", idcode_data[31..0];
DRSCAN 32, $E000, CAPTURE idcode_data[31..0];
EXPORT "Shifted Out:", idcode_data[31..0];
DRSCAN 32, $E000, CAPTURE idcode_data[31..0];
EXPORT "Shifted Out:", idcode_data[31..0];
DRSCAN 32, $E000, CAPTURE idcode_data[31..0];
EXPORT "Shifted Out:", idcode_data[31..0];
DRSCAN 32, $E000, CAPTURE idcode_data[31..0];
EXPORT "Shifted Out:", idcode_data[31..0];
DRSCAN 32, $E000, CAPTURE idcode_data[31..0];
EXPORT "Shifted Out:", idcode_data[31..0];
DRSCAN 32, $E000, CAPTURE idcode_data[31..0];
EXPORT "Shifted Out:", idcode_data[31..0];
DRSCAN 32, $E000, CAPTURE idcode_data[31..0];
EXPORT "Shifted Out:", idcode_data[31..0];
DRSCAN 32, $E000, CAPTURE idcode_data[31..0];
EXPORT "Shifted Out:", idcode_data[31..0];
DRSCAN 32, $E000, CAPTURE idcode_data[31..0];
EXPORT "Shifted Out:", idcode_data[31..0];
next ii;
ENDPROC;
',,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
